# Execution & Output Guide

## What Happens When You Execute?

When you click **Execute**, the Protocol OS performs a complete request-response cycle:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. PREPARE    Parse request, substitute placeholders       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. VALIDATE   Check URL, headers, body format              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. EXECUTE    Send HTTP request to target API              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. RECEIVE    Capture response status, headers, body       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5. DISPLAY    Format and show results in output panel      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Output Panel Sections

### ğŸ“Š Metrics Panel

Quick stats about your request:

| Metric | Description |
|--------|-------------|
| **Status** | HTTP status code (200, 401, 500, etc.) |
| **Time** | Round-trip time in milliseconds |
| **Size** | Response body size in bytes/KB |

### ğŸ“œ Response Panel

The actual data returned by the API:

- **JSON responses** are syntax-highlighted and collapsible
- **XML responses** are formatted with indentation
- **Text responses** are displayed as-is
- **Binary responses** show download link

### ğŸ“‹ Headers Panel

Response headers returned by the server:

```
content-type: application/json
x-request-id: abc123
x-ratelimit-remaining: 99
cache-control: no-cache
```

### ğŸ“ Logs Panel

Detailed execution log showing each step:

```
[12:34:56] â–¶ Starting request...
[12:34:56] âœ“ URL validated
[12:34:56] âœ“ Headers set (3)
[12:34:56] âœ“ Body attached (256 bytes)
[12:34:56] â†’ Sending POST to api.example.com
[12:34:57] â† Response received (234ms)
[12:34:57] âœ“ Status: 200 OK
[12:34:57] âœ“ Complete
```

---

## HTTP Status Codes

### âœ… Success (2xx)

| Code | Meaning | What It Means |
|------|---------|---------------|
| 200 | OK | Request succeeded |
| 201 | Created | New resource created |
| 202 | Accepted | Request accepted, processing async |
| 204 | No Content | Success, but no body returned |

### â†ªï¸ Redirect (3xx)

| Code | Meaning | What It Means |
|------|---------|---------------|
| 301 | Moved Permanently | Resource moved, update your URL |
| 302 | Found | Temporary redirect |
| 304 | Not Modified | Cached version is current |

### âŒ Client Error (4xx)

| Code | Meaning | Common Cause | Fix |
|------|---------|--------------|-----|
| 400 | Bad Request | Malformed request | Check body format |
| 401 | Unauthorized | Invalid/missing auth | Check credentials |
| 403 | Forbidden | No permission | Check scopes/permissions |
| 404 | Not Found | Wrong endpoint | Verify URL |
| 405 | Method Not Allowed | Wrong HTTP method | Check if GET/POST/etc |
| 409 | Conflict | Resource conflict | Check for duplicates |
| 422 | Unprocessable | Validation failed | Check required fields |
| 429 | Too Many Requests | Rate limited | Wait and retry |

### ğŸ’¥ Server Error (5xx)

| Code | Meaning | What It Means |
|------|---------|---------------|
| 500 | Internal Server Error | Server-side bug |
| 502 | Bad Gateway | Upstream server issue |
| 503 | Service Unavailable | Server overloaded/maintenance |
| 504 | Gateway Timeout | Upstream timeout |

---

## Reading JSON Responses

### Successful Response Example
```json
{
  "id": "user_123",
  "name": "John Doe",
  "email": "john@example.com",
  "created_at": "2024-01-15T10:30:00Z",
  "metadata": {
    "plan": "pro",
    "seats": 5
  }
}
```

### Error Response Example
```json
{
  "error": {
    "code": "invalid_api_key",
    "message": "The API key provided is invalid.",
    "type": "authentication_error",
    "param": null
  }
}
```

### Paginated Response Example
```json
{
  "data": [...],
  "has_more": true,
  "next_cursor": "abc123",
  "total_count": 150
}
```

---

## Common Response Patterns

### OpenAI Style
```json
{
  "id": "chatcmpl-xxx",
  "object": "chat.completion",
  "choices": [
    {
      "message": {
        "role": "assistant",
        "content": "Response text here"
      }
    }
  ],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 50
  }
}
```

### REST API Style
```json
{
  "success": true,
  "data": { ... },
  "meta": {
    "page": 1,
    "per_page": 20,
    "total": 100
  }
}
```

### GraphQL Style
```json
{
  "data": {
    "user": {
      "id": "123",
      "name": "John"
    }
  },
  "errors": null
}
```

---

## Troubleshooting Common Issues

### "CORS Error"
**Cause:** Browser blocking cross-origin request  
**Fix:** This is a browser security feature. Use a backend proxy or the API's CORS-enabled endpoint.

### "Network Error"
**Cause:** Cannot reach the server  
**Fix:** Check your internet connection, verify the URL, check if API is down.

### "Timeout"
**Cause:** Server took too long to respond  
**Fix:** Increase timeout, reduce payload size, or try again later.

### "SSL Certificate Error"
**Cause:** Invalid or expired SSL cert  
**Fix:** The target API has certificate issues. Contact their support.

### "Parse Error"
**Cause:** Response isn't valid JSON/XML  
**Fix:** Check Content-Type header, API might return different format.

---

## Working with Response Data

### Copy Response
Click the **Copy** button to copy the entire response to clipboard.

### Download Response
Click **Download** to save response as a file:
- JSON â†’ `.json` file
- XML â†’ `.xml` file
- Other â†’ `.txt` file

### Extract Values
Use the collapsible JSON viewer to navigate nested data and copy specific values.

---

## Rate Limiting

Most APIs have rate limits. Watch for these headers:

| Header | Meaning |
|--------|---------|
| `X-RateLimit-Limit` | Max requests allowed |
| `X-RateLimit-Remaining` | Requests left in window |
| `X-RateLimit-Reset` | When limit resets (Unix timestamp) |
| `Retry-After` | Seconds to wait before retrying |

**When rate limited (429):**
1. Check `Retry-After` header
2. Wait the specified time
3. Implement exponential backoff for retries

---

## Execution Modes

### Single Execution
Standard one-off request. Click Execute, get response.

### Batch Execution (Coming Soon)
Execute multiple requests in sequence with variable substitution.

### Scheduled Execution (Coming Soon)
Set up recurring API calls on a schedule.

---

## Security Notes

1. **Responses may contain sensitive data** - Be careful when sharing/copying
2. **Tokens in responses** - Store securely, never log to public places
3. **Error messages** - May reveal system details, don't expose to end users
4. **Request logging** - Sanitizes sensitive headers before display

---

## Next Steps

After successful execution:
- âœ… **Save the handshake** to reuse this configuration
- âœ… **Export the cURL** to use in scripts or share with team
- âœ… **Review logs** if something went wrong
- âœ… **Adjust and retry** if needed
